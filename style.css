:root {
  /* ... (existing full CSS, truncated for brevity) */

  /* Added medical colors */
  --medical-blue: #1f77b4;
  --medical-blue-rgb: 31, 119, 180;
  --emergency-red: #b45f60;
  --emergency-red-rgb: 180, 95, 96;
  --safe-green: #4caf50;
  --safe-green-rgb: 76, 175, 80;
  --patient-teal: #1fb8cd;
  --patient-teal-rgb: 31, 184, 205;
  --doctor-orange: #ff7f0e;
  --doctor-orange-rgb: 255, 127, 14;
  --medication-red: #d62728;
  --medication-red-rgb: 214, 39, 40;

  /* Learning viz */
  --learner-glow: rgba(33, 128, 141, 0.5);
}

/* Learner Confidence Styles */
.learner-confidence {
  margin: var(--space-16) 0;
  padding: var(--space-12);
  background: var(--color-bg-1);
  border-radius: var(--radius-base);
  border-left: 4px solid var(--color-primary);
}

.confidence-progress {
  height: 8px;
  background: var(--color-secondary);
  border-radius: var(--radius-full);
  overflow: hidden;
  margin-top: var(--space-4);
}

.confidence-progress::after {
  content: '';
  display: block;
  height: 100%;
  background: linear-gradient(90deg, var(--color-primary), var(--color-success));
  width: calc(var(--confidence-width, 50%) ); /* JS sets --confidence-width */
  transition: width 0.5s ease;
}

#learnerViz circle {
  filter: drop-shadow(0 0 2px var(--learner-glow));
  transition: r 0.3s ease;
}

/* Button Fixes (ensure clickable) */
.btn {
  cursor: pointer;
  position: relative;
  z-index: 1;
}

.btn:disabled {
  cursor: not-allowed;
}

/* Query Button Styles */
#aiQueryBtn, #sqlQueryBtn {
  margin-right: var(--space-8);
}

/* Mobile Button Stack */
@media (max-width: 768px) {
  .process-controls, .analysis-controls, .export-options, .sample-buttons {
    flex-direction: column !important;
    gap: var(--space-8);
  }
  .btn {
    width: 100%;
  }
}

/* ... (rest of existing CSS) */
